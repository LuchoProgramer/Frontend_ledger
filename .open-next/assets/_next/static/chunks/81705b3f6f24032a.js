(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88143,(e,t,r)=>{"use strict";function a({widthInt:e,heightInt:t,blurWidth:r,blurHeight:a,blurDataURL:i,objectFit:s}){let n=r?40*r:e,l=a?40*a:t,o=n&&l?`viewBox='0 0 ${n} ${l}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${o}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${o?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${i}'/%3E%3C/svg%3E`}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImageBlurSvg",{enumerable:!0,get:function(){return a}})},87690,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={VALID_LOADERS:function(){return s},imageConfigDefault:function(){return n}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let s=["default","imgix","cloudinary","akamai","custom"],n={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},8927,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImgProps",{enumerable:!0,get:function(){return o}}),e.r(33525);let a=e.r(88143),i=e.r(87690),s=["-moz-initial","fill","none","scale-down",void 0];function n(e){return void 0!==e.default}function l(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function o({src:e,sizes:t,unoptimized:r=!1,priority:o=!1,preload:c=!1,loading:d,className:u,quality:m,width:h,height:p,fill:x=!1,style:g,overrideSrc:f,onLoad:b,onLoadingComplete:y,placeholder:v="empty",blurDataURL:j,fetchPriority:N,decoding:w="async",layout:C,objectFit:E,objectPosition:k,lazyBoundary:P,lazyRoot:S,..._},A){var O;let I,L,T,{imgConf:z,showAltText:R,blurComplete:M,defaultLoader:D}=A,B=z||i.imageConfigDefault;if("allSizes"in B)I=B;else{let e=[...B.deviceSizes,...B.imageSizes].sort((e,t)=>e-t),t=B.deviceSizes.sort((e,t)=>e-t),r=B.qualities?.sort((e,t)=>e-t);I={...B,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===D)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let $=_.loader||D;delete _.loader,delete _.srcSet;let W="__next_img_default"in $;if(W){if("custom"===I.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=$;$=t=>{let{config:r,...a}=t;return e(a)}}if(C){"fill"===C&&(x=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[C];e&&(g={...g,...e});let r={responsive:"100vw",fill:"100vw"}[C];r&&!t&&(t=r)}let V="",U=l(h),q=l(p);if((O=e)&&"object"==typeof O&&(n(O)||void 0!==O.src)){let t=n(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(L=t.blurWidth,T=t.blurHeight,j=j||t.blurDataURL,V=t.src,!x)if(U||q){if(U&&!q){let e=U/t.width;q=Math.round(t.height*e)}else if(!U&&q){let e=q/t.height;U=Math.round(t.width*e)}}else U=t.width,q=t.height}let F=!o&&!c&&("lazy"===d||void 0===d);(!(e="string"==typeof e?e:V)||e.startsWith("data:")||e.startsWith("blob:"))&&(r=!0,F=!1),I.unoptimized&&(r=!0),W&&!I.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(r=!0);let G=l(m),H=Object.assign(x?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:E,objectPosition:k}:{},R?{}:{color:"transparent"},g),K=M||"empty"===v?null:"blur"===v?`url("data:image/svg+xml;charset=utf-8,${(0,a.getImageBlurSvg)({widthInt:U,heightInt:q,blurWidth:L,blurHeight:T,blurDataURL:j||"",objectFit:H.objectFit})}")`:`url("${v}")`,X=s.includes(H.objectFit)?"fill"===H.objectFit?"100% 100%":"cover":H.objectFit,J=K?{backgroundSize:X,backgroundPosition:H.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:K}:{},Y=function({config:e,src:t,unoptimized:r,width:a,quality:i,sizes:s,loader:n}){if(r)return{src:t,srcSet:void 0,sizes:void 0};let{widths:l,kind:o}=function({deviceSizes:e,allSizes:t},r,a){if(a){let r=/(^|\s)(1?\d?\d)vw/g,i=[];for(let e;e=r.exec(a);)i.push(parseInt(e[2]));if(i.length){let r=.01*Math.min(...i);return{widths:t.filter(t=>t>=e[0]*r),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof r?{widths:e,kind:"w"}:{widths:[...new Set([r,2*r].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,a,s),c=l.length-1;return{sizes:s||"w"!==o?s:"100vw",srcSet:l.map((r,a)=>`${n({config:e,src:t,quality:i,width:r})} ${"w"===o?r:a+1}${o}`).join(", "),src:n({config:e,src:t,quality:i,width:l[c]})}}({config:I,src:e,unoptimized:r,width:U,quality:G,sizes:t,loader:$}),Q=F?"lazy":d;return{props:{..._,loading:Q,fetchPriority:N,width:U,height:q,decoding:w,className:u,style:{...H,...J},sizes:Y.sizes,srcSet:Y.srcSet,src:f||Y.src},meta:{unoptimized:r,preload:c||o,placeholder:v,fill:x}}}},98879,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return l}});let a=e.r(71645),i="undefined"==typeof window,s=i?()=>{}:a.useLayoutEffect,n=i?()=>{}:a.useEffect;function l(e){let{headManager:t,reduceComponentsToState:r}=e;function l(){if(t&&t.mountedInstances){let e=a.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(e))}}return i&&(t?.mountedInstances?.add(e.children),l()),s(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),s(()=>(t&&(t._pendingUpdate=l),()=>{t&&(t._pendingUpdate=l)})),n(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},25633,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return x},defaultHead:function(){return u}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let s=e.r(55682),n=e.r(90809),l=e.r(18050),o=n._(e.r(71645)),c=s._(e.r(98879)),d=e.r(42732);function u(){return[(0,l.jsx)("meta",{charSet:"utf-8"},"charset"),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function m(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===o.default.Fragment?e.concat(o.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(33525);let h=["name","httpEquiv","charSet","itemProp"];function p(e){let t,r,a,i;return e.reduce(m,[]).reverse().concat(u().reverse()).filter((t=new Set,r=new Set,a=new Set,i={},e=>{let s=!0,n=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){n=!0;let r=e.key.slice(e.key.indexOf("$")+1);t.has(r)?s=!1:t.add(r)}switch(e.type){case"title":case"base":r.has(e.type)?s=!1:r.add(e.type);break;case"meta":for(let t=0,r=h.length;t<r;t++){let r=h[t];if(e.props.hasOwnProperty(r))if("charSet"===r)a.has(r)?s=!1:a.add(r);else{let t=e.props[r],a=i[r]||new Set;("name"!==r||!n)&&a.has(t)?s=!1:(a.add(t),i[r]=a)}}}return s})).reverse().map((e,t)=>{let r=e.key||t;return o.default.cloneElement(e,{key:r})})}let x=function({children:e}){let t=(0,o.useContext)(d.HeadManagerContext);return(0,l.jsx)(c.default,{reduceComponentsToState:p,headManager:t,children:e})};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18556,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageConfigContext",{enumerable:!0,get:function(){return s}});let a=e.r(55682)._(e.r(71645)),i=e.r(87690),s=a.default.createContext(i.imageConfigDefault)},65856,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouterContext",{enumerable:!0,get:function(){return a}});let a=e.r(55682)._(e.r(71645)).default.createContext(null)},70965,(e,t,r)=>{"use strict";function a(e,t){let r=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e,0):r}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"findClosestQuality",{enumerable:!0,get:function(){return a}})},1948,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return s}});let a=e.r(70965);function i({config:e,src:t,width:r,quality:i}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let s=(0,a.findClosestQuality)(i,e);return`${e.path}?url=${encodeURIComponent(t)}&w=${r}&q=${s}${t.startsWith("/_next/static/media/"),""}`}i.__next_img_default=!0;let s=i},5500,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Image",{enumerable:!0,get:function(){return v}});let a=e.r(55682),i=e.r(90809),s=e.r(18050),n=i._(e.r(71645)),l=a._(e.r(74080)),o=a._(e.r(25633)),c=e.r(8927),d=e.r(87690),u=e.r(18556);e.r(33525);let m=e.r(65856),h=a._(e.r(1948)),p=e.r(18581),x={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function g(e,t,r,a,i,s,n){let l=e?.src;e&&e["data-loaded-src"]!==l&&(e["data-loaded-src"]=l,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&i(!0),r?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let a=!1,i=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>a,isPropagationStopped:()=>i,persist:()=>{},preventDefault:()=>{a=!0,t.preventDefault()},stopPropagation:()=>{i=!0,t.stopPropagation()}})}a?.current&&a.current(e)}}))}function f(e){return n.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let b=(0,n.forwardRef)(({src:e,srcSet:t,sizes:r,height:a,width:i,decoding:l,className:o,style:c,fetchPriority:d,placeholder:u,loading:m,unoptimized:h,fill:x,onLoadRef:b,onLoadingCompleteRef:y,setBlurComplete:v,setShowAltText:j,sizesInput:N,onLoad:w,onError:C,...E},k)=>{let P=(0,n.useCallback)(e=>{e&&(C&&(e.src=e.src),e.complete&&g(e,u,b,y,v,h,N))},[e,u,b,y,v,C,h,N]),S=(0,p.useMergedRef)(k,P);return(0,s.jsx)("img",{...E,...f(d),loading:m,width:i,height:a,decoding:l,"data-nimg":x?"fill":"1",className:o,style:c,sizes:r,srcSet:t,src:e,ref:S,onLoad:e=>{g(e.currentTarget,u,b,y,v,h,N)},onError:e=>{j(!0),"empty"!==u&&v(!0),C&&C(e)}})});function y({isAppRouter:e,imgAttributes:t}){let r={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...f(t.fetchPriority)};return e&&l.default.preload?(l.default.preload(t.src,r),null):(0,s.jsx)(o.default,{children:(0,s.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...r},"__nimg-"+t.src+t.srcSet+t.sizes)})}let v=(0,n.forwardRef)((e,t)=>{let r=(0,n.useContext)(m.RouterContext),a=(0,n.useContext)(u.ImageConfigContext),i=(0,n.useMemo)(()=>{let e=x||a||d.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t),i=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r,qualities:i,localPatterns:"undefined"==typeof window?a?.localPatterns:e.localPatterns}},[a]),{onLoad:l,onLoadingComplete:o}=e,p=(0,n.useRef)(l);(0,n.useEffect)(()=>{p.current=l},[l]);let g=(0,n.useRef)(o);(0,n.useEffect)(()=>{g.current=o},[o]);let[f,v]=(0,n.useState)(!1),[j,N]=(0,n.useState)(!1),{props:w,meta:C}=(0,c.getImgProps)(e,{defaultLoader:h.default,imgConf:i,blurComplete:f,showAltText:j});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b,{...w,unoptimized:C.unoptimized,placeholder:C.placeholder,fill:C.fill,onLoadRef:p,onLoadingCompleteRef:g,setBlurComplete:v,setShowAltText:N,sizesInput:e.sizes,ref:t}),C.preload?(0,s.jsx)(y,{isAppRouter:!r,imgAttributes:w}):null]})});("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},94909,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return d},getImageProps:function(){return c}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let s=e.r(55682),n=e.r(8927),l=e.r(5500),o=s._(e.r(1948));function c(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let d=l.Image},57688,(e,t,r)=>{t.exports=e.r(94909)},49755,e=>{"use strict";var t=e.i(18050),r=e.i(71645),a=e.i(9165),i=e.i(22016),s=e.i(57688);function n({isOpen:e,onClose:i}){let[s,n]=(0,r.useState)(""),[l,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),x=async e=>{if(e.preventDefault(),s.trim().length<3)return void m("Debe ingresar al menos 3 caracteres");d(!0),m(""),p(""),o([]);try{let e=await (0,a.buscarEmpresas)(s.trim());e.success?(o(e.data.empresas),0===e.data.empresas.length&&p(e.data.mensaje||"No se encontraron empresas")):m(e.error||"Error al buscar empresas")}catch(e){m("Error de conexiÃ³n. Por favor intente nuevamente."),console.error("Error buscando empresas:",e)}finally{d(!1)}};return e?(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Buscar mi Empresa"}),(0,t.jsx)("button",{onClick:i,className:"text-white hover:text-gray-200 text-3xl leading-none","aria-label":"Cerrar",children:"Ã—"})]}),(0,t.jsx)("p",{className:"mt-2 text-blue-100",children:"Ingresa tu RUC o nombre de empresa para acceder"})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("form",{onSubmit:x,className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,t.jsx)("input",{type:"text",value:s,onChange:e=>n(e.target.value),placeholder:"Ingresa RUC o nombre de empresa...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:c}),(0,t.jsx)("button",{type:"submit",disabled:c||s.trim().length<3,className:"w-full sm:w-auto px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed font-medium transition-colors",children:c?"Buscando...":"Buscar"})]}),s.trim().length>0&&s.trim().length<3&&(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Ingresa al menos 3 caracteres para buscar"})]}),u&&(0,t.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-red-700",children:u})}),h&&(0,t.jsx)("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-yellow-700",children:h})}),l.length>0&&(0,t.jsxs)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:[l.length," ",1===l.length?"empresa encontrada":"empresas encontradas"]}),l.map(e=>(0,t.jsx)("button",{onClick:()=>(e=>{if(e.url_tenant){let t=e.url_tenant;t.startsWith("http")||(t=`https://${t}`),t.endsWith("/login")||(t=t.endsWith("/")?`${t}login`:`${t}/login`),window.location.href=t;return}let t=e.schema_name.replace(/_/g,"-"),r="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname;window.location.href=`${r?"http":"https"}://${t}.${r?"localhost:3000":"ledgerxpertz.com"}/login`})(e),className:"w-full p-4 border border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all text-left group",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600",children:e.nombre_comercial}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.razon_social}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["RUC: ",e.ruc]})]}),(0,t.jsx)("div",{className:"ml-4",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-gray-400 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},e.id))]}),(0,t.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"ðŸ’¡ Tip:"})," Puedes buscar por:"]}),(0,t.jsxs)("ul",{className:"mt-2 text-sm text-gray-600 list-disc list-inside space-y-1",children:[(0,t.jsx)("li",{children:"RUC completo o parcial (ej: 0992...)"}),(0,t.jsx)("li",{children:"Nombre comercial de tu empresa"}),(0,t.jsx)("li",{children:"RazÃ³n social"})]})]})]}),(0,t.jsx)("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:["Â¿No encuentras tu empresa?"," ",(0,t.jsx)("a",{href:"/registro",className:"text-blue-600 hover:text-blue-700 font-medium",children:"RegÃ­strala aquÃ­"})]})})]})}):null}function l(){let[e,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(async()=>{try{let e=(0,a.getApiClient)();console.log("[LandingPage] API Client creado"),console.log("[LandingPage] Tenant:",e.tenant),console.log("[LandingPage] Base URL:",e.baseURL),console.log("[LandingPage] Obteniendo estadÃ­sticas pÃºblicas...");let t=await e.getEstadisticasPublicas();if(console.log("[LandingPage] EstadÃ­sticas recibidas:",t),!t||!t.features||!Array.isArray(t.features))throw console.warn("[LandingPage] Datos invÃ¡lidos recibidos:",t),Error("Datos invÃ¡lidos recibidos del API");l(t)}catch(e){console.error("[LandingPage] Error al cargar estadÃ­sticas:",{error:e,message:e?.message,status:e?.status,data:e?.data}),console.error("[LandingPage] Error stack:",e?.stack),l({total_empresas:0,features:[{titulo:"Punto de Venta",descripcion:"Sistema de facturaciÃ³n rÃ¡pido y eficiente",icono:"shopping-cart"},{titulo:"Control de Inventario",descripcion:"GestiÃ³n completa de productos y stock",icono:"package"},{titulo:"FacturaciÃ³n ElectrÃ³nica SRI",descripcion:"IntegraciÃ³n completa con el SRI de Ecuador",icono:"file-text"}]})}finally{d(!1)}})()},[]),(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,t.jsxs)("header",{className:"container mx-auto px-4 py-12 md:py-16",children:[(0,t.jsxs)("nav",{className:"flex flex-col md:flex-row justify-between items-center mb-12 md:mb-16 gap-4 md:gap-0",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-indigo-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-bold text-xl",children:"LX"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"LedgerXpertz"})]}),(0,t.jsxs)("div",{className:"flex space-x-4 w-full md:w-auto justify-center md:justify-end",children:[(0,t.jsx)("button",{onClick:()=>m(!0),className:"text-gray-700 hover:text-indigo-600 font-medium transition",children:"Iniciar SesiÃ³n"}),(0,t.jsx)(i.default,{href:"/registro",className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition",children:"Comenzar Gratis"})]})]}),(0,t.jsxs)("div",{className:"text-center max-w-4xl mx-auto",children:[(0,t.jsxs)("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-extrabold text-gray-900 mb-6 leading-tight",children:["Sistema de GestiÃ³n Empresarial",(0,t.jsx)("span",{className:"text-indigo-600 block md:inline",children:" 100% en la Nube"})]}),(0,t.jsx)("p",{className:"text-lg md:text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Gestiona tu negocio de forma profesional con facturaciÃ³n electrÃ³nica SRI, control de inventario, punto de venta y mÃ¡s."}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-center gap-4 px-4 md:px-0",children:[(0,t.jsx)(i.default,{href:"/registro",className:"w-full md:w-auto bg-indigo-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-indigo-700 transition shadow-lg text-center",children:"Registrar mi Empresa"}),(0,t.jsx)("button",{onClick:()=>m(!0),className:"w-full md:w-auto bg-white text-indigo-600 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-50 transition shadow-lg border-2 border-indigo-600",children:"Buscar mi Empresa"})]})]})]}),(0,t.jsx)(n,{isOpen:u,onClose:()=>m(!1)}),!c&&e&&(0,t.jsx)("section",{className:"bg-white py-12",children:(0,t.jsx)("div",{className:"container mx-auto px-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"text-4xl font-bold text-indigo-600 mb-2",children:[e.total_empresas,"+"]}),(0,t.jsx)("div",{className:"text-gray-600",children:"Empresas Registradas"})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"text-4xl font-bold text-indigo-600 mb-2",children:"100%"}),(0,t.jsx)("div",{className:"text-gray-600",children:"Cumplimiento SRI"})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"text-4xl font-bold text-indigo-600 mb-2",children:"24/7"}),(0,t.jsx)("div",{className:"text-gray-600",children:"Disponibilidad"})]})]})})}),(0,t.jsxs)("section",{id:"features",className:"container mx-auto px-4 py-16",children:[(0,t.jsx)("h3",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"Todo lo que necesitas para tu negocio"}),c?(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent"})}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e?.features?.map((e,r)=>(0,t.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg hover:shadow-xl transition",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(o,{name:e.icono})}),(0,t.jsx)("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:e.titulo}),(0,t.jsx)("p",{className:"text-gray-600",children:e.descripcion})]},r))})]}),(0,t.jsx)("section",{className:"bg-indigo-600 py-16",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,t.jsx)("h3",{className:"text-3xl font-bold text-white mb-6",children:"Â¿Listo para comenzar?"}),(0,t.jsx)("p",{className:"text-xl text-indigo-100 mb-8",children:"Registra tu empresa ahora y comienza a gestionar tu negocio de forma profesional"}),(0,t.jsx)(i.default,{href:"/registro",className:"w-full md:w-auto bg-white text-indigo-600 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-100 transition inline-block shadow-lg text-center",children:"Crear Cuenta Gratis"})]})}),(0,t.jsx)("footer",{className:"bg-gray-900 text-white py-12",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,t.jsx)("p",{className:"text-lg mb-4",children:"Â© 2025 LedgerXpertz. Todos los derechos reservados."}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3",children:[(0,t.jsx)("p",{className:"text-gray-500 text-xs uppercase tracking-widest font-medium",children:"Una innovaciÃ³n de"}),(0,t.jsxs)("a",{href:"https://pukadigital.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:opacity-90 transition-opacity group",children:[(0,t.jsx)("div",{className:"transition-transform group-hover:scale-110 duration-300",children:(0,t.jsx)(s.default,{src:"/puka-mascot.png",alt:"PukaDigital Mascot",width:40,height:40,className:"object-contain"})}),(0,t.jsx)("div",{children:(0,t.jsx)(s.default,{src:"/puka-text.png",alt:"PukaDigital Logo",width:90,height:35,className:"object-contain"})})]})]})]})})]})}function o({name:e}){let r="w-6 h-6 text-indigo-600";switch(e){case"shopping-cart":return(0,t.jsx)("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})});case"package":return(0,t.jsx)("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})});case"file-text":return(0,t.jsx)("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});case"bar-chart":return(0,t.jsx)("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})});case"truck":return(0,t.jsxs)("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"})]});case"clock":return(0,t.jsx)("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return(0,t.jsx)("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}}e.s(["default",()=>l],49755)},59707,e=>{"use strict";var t=e.i(18050),r=e.i(71645),a=e.i(18566),i=e.i(57951),s=e.i(9165),n=e.i(88844),l=e.i(25652),o=e.i(23945),c=e.i(75254);let d=(0,c.default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),u=(0,c.default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),m=(0,c.default)("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);var h=e.i(72664),p=e.i(61659),x=e.i(78583),g=e.i(39616),f=e.i(1928),b=e.i(15788),y=e.i(25949),v=e.i(33369),j=["axis"],N=(0,r.forwardRef)((e,t)=>r.createElement(v.CartesianChart,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:j,tooltipPayloadSearcher:y.arrayTooltipSearcher,categoricalChartProps:e,ref:t})),w=r,C=e.i(7670),E=e.i(72733),k=e.i(97865),P=e.i(69212),S=e.i(86031),_=e.i(62728),A=e.i(94395),O=e.i(79812),I=e.i(81977),L=e.i(41818),T=e.i(844),z=e.i(59798),R=e.i(61849),M=e.i(61764),D=e.i(46710),B=e.i(92860),$=e.i(91526),W=e.i(77320),V=(e,t,r,a)=>(0,M.selectAxisWithScale)(e,"xAxis",t,a),U=(e,t,r,a)=>(0,M.selectTicksOfGraphicalItem)(e,"xAxis",t,a),q=(e,t,r,a)=>(0,M.selectAxisWithScale)(e,"yAxis",r,a),F=(e,t,r,a)=>(0,M.selectTicksOfGraphicalItem)(e,"yAxis",r,a),G=(0,R.createSelector)([D.selectChartLayout,V,q,U,F],(e,t,r,a,i)=>(0,O.isCategoricalAxis)(e,"xAxis")?(0,O.getBandSizeOfAxis)(t,a,!1):(0,O.getBandSizeOfAxis)(r,i,!1)),H=(0,R.createSelector)([M.selectUnfilteredCartesianItems,(e,t,r,a,i)=>i],(e,t)=>e.filter(e=>"area"===e.type).find(e=>e.id===t)),K=(0,R.createSelector)([D.selectChartLayout,V,q,U,F,(e,t,r,a,i)=>{var s,n,l=H(e,t,r,a,i);if(null!=l){var o=(0,D.selectChartLayout)(e);if(null!=(n=(0,O.isCategoricalAxis)(o,"xAxis")?(0,M.selectStackGroups)(e,"yAxis",r,a):(0,M.selectStackGroups)(e,"xAxis",t,a))){var{stackId:c}=l,d=(0,$.getStackSeriesIdentifier)(l);if(null!=c&&null!=d){var u=null==(s=n[c])?void 0:s.stackedData;return null==u?void 0:u.find(e=>e.key===d)}}}},B.selectChartDataWithIndexesIfNotInPanorama,G,H,W.selectChartBaseValue],(e,t,r,a,i,s,n,l,o,c)=>{var d,{chartData:u,dataStartIndex:m,dataEndIndex:h}=n;if(null!=o&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=r&&null!=a&&null!=i&&0!==a.length&&0!==i.length&&null!=l){var{data:p}=o;if(null!=(d=p&&p.length>0?p:null==u?void 0:u.slice(m,h+1)))return function(e){var t,{areaSettings:{connectNulls:r,baseValue:a,dataKey:i},stackedData:s,layout:n,chartBaseValue:l,xAxis:o,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:m,yAxisTicks:h,bandSize:p}=e,x=s&&s.length,g=((e,t,r,a,i)=>{var s=null!=r?r:t;if((0,A.isNumber)(s))return s;var n="horizontal"===e?i:a,l=n.scale.domain();if("number"===n.type){var o=Math.max(l[0],l[1]),c=Math.min(l[0],l[1]);return"dataMin"===s?c:"dataMax"===s||o<0?o:Math.max(Math.min(l[0],l[1]),0)}return"dataMin"===s?l[0]:"dataMax"===s?l[1]:l[0]})(n,l,a,o,c),f="horizontal"===n,b=!1,y=d.map((e,t)=>{x?a=s[u+t]:Array.isArray(a=(0,O.getValueByDataKey)(e,i))?b=!0:a=[g,a];var a,n=null==a[1]||x&&!r&&null==(0,O.getValueByDataKey)(e,i);return f?{x:(0,O.getCateCoordinateOfLine)({axis:o,ticks:m,bandSize:p,entry:e,index:t}),y:n?null:c.scale(a[1]),value:a,payload:e}:{x:n?null:o.scale(a[1]),y:(0,O.getCateCoordinateOfLine)({axis:c,ticks:h,bandSize:p,entry:e,index:t}),value:a,payload:e}});return t=x||b?y.map(e=>{var t=Array.isArray(e.value)?e.value[0]:null;return f?{x:e.x,y:null!=t&&null!=e.y?c.scale(t):null,payload:e.payload}:{x:null!=t?o.scale(t):null,y:e.y,payload:e.payload}}):f?c.scale(g):o.scale(g),{points:y,baseLine:t,isRange:b}}({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataStartIndex:m,areaSettings:o,stackedData:s,displayedData:d,chartBaseValue:c,bandSize:l})}}),X=e.i(75337),J=e.i(75502),Y=e.i(95146),Q=e.i(27241),Z=e.i(40657),ee=e.i(51883),et=e.i(22075),er=e.i(52734),ea=e.i(15549),ei=e.i(91187),es=e.i(57999),en=e.i(66576),el=e.i(81583),eo=e.i(43404),ec=e.i(29601),ed=e.i(18457),eu=e.i(20135),em=["id"],eh=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ep(){return(ep=Object.assign.bind()).apply(null,arguments)}function ex(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function ef(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eg(Object(r),!0).forEach(function(t){var a,i,s;a=e,i=t,s=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in a?Object.defineProperty(a,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[i]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eg(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eb(e,t){return e&&"none"!==e?e:t}var ey=w.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:i,fill:s,name:n,hide:l,unit:o,tooltipType:c}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:(0,O.getTooltipNameProp)(n,t),hide:l,type:c,color:eb(a,s),unit:o}};return w.createElement(T.SetTooltipEntrySettings,{tooltipEntrySettings:d})});function ev(e){var{clipPathId:t,points:r,props:a}=e,{needClip:i,dot:s,dataKey:n}=a,l=(0,es.svgPropertiesNoEvents)(a);return w.createElement(S.Dots,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:n,baseProps:l,needClip:i,clipPathId:t})}function ej(e){var{showLabels:t,children:r,points:a}=e,i=a.map(e=>{var t,r,a={x:null!=(t=e.x)?t:0,y:null!=(r=e.y)?r:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ef(ef({},a),{},{value:e.value,payload:e.payload,parentViewBox:void 0,viewBox:a,fill:void 0})});return w.createElement(P.CartesianLabelListContextProvider,{value:t?i:void 0},r)}function eN(e){var{points:t,baseLine:r,needClip:a,clipPathId:i,props:s}=e,{layout:n,type:l,stroke:o,connectNulls:c,isRange:d}=s,{id:u}=s,m=ex(s,em),h=(0,es.svgPropertiesNoEvents)(m),p=(0,eo.svgPropertiesAndEvents)(m);return w.createElement(w.Fragment,null,(null==t?void 0:t.length)>1&&w.createElement(k.Layer,{clipPath:a?"url(#clipPath-".concat(i,")"):void 0},w.createElement(E.Curve,ep({},p,{id:u,points:t,connectNulls:c,type:l,baseLine:r,layout:n,stroke:"none",className:"recharts-area-area"})),"none"!==o&&w.createElement(E.Curve,ep({},h,{className:"recharts-area-curve",layout:n,type:l,connectNulls:c,fill:"none",points:t})),"none"!==o&&d&&w.createElement(E.Curve,ep({},h,{className:"recharts-area-curve",layout:n,type:l,connectNulls:c,fill:"none",points:r}))),w.createElement(ev,{points:t,props:m,clipPathId:i}))}function ew(e){var{alpha:t,baseLine:r,points:a,strokeWidth:i}=e,s=a[0].y,n=a[a.length-1].y;if(!(0,et.isWellBehavedNumber)(s)||!(0,et.isWellBehavedNumber)(n))return null;var l=t*Math.abs(s-n),o=Math.max(...a.map(e=>e.x||0));return((0,A.isNumber)(r)?o=Math.max(r,o):r&&Array.isArray(r)&&r.length&&(o=Math.max(...r.map(e=>e.x||0),o)),(0,A.isNumber)(o))?w.createElement("rect",{x:0,y:s<n?s:s-l,width:o+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function eC(e){var{alpha:t,baseLine:r,points:a,strokeWidth:i}=e,s=a[0].x,n=a[a.length-1].x;if(!(0,et.isWellBehavedNumber)(s)||!(0,et.isWellBehavedNumber)(n))return null;var l=t*Math.abs(s-n),o=Math.max(...a.map(e=>e.y||0));return((0,A.isNumber)(r)?o=Math.max(r,o):r&&Array.isArray(r)&&r.length&&(o=Math.max(...r.map(e=>e.y||0),o)),(0,A.isNumber)(o))?w.createElement("rect",{x:s<n?s:s-l,y:0,width:l,height:Math.floor(o+(i?parseInt("".concat(i),10):1))}):null}function eE(e){var{alpha:t,layout:r,points:a,baseLine:i,strokeWidth:s}=e;return"vertical"===r?w.createElement(ew,{alpha:t,points:a,baseLine:i,strokeWidth:s}):w.createElement(eC,{alpha:t,points:a,baseLine:i,strokeWidth:s})}function ek(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:i,previousBaselineRef:s}=e,{points:n,baseLine:l,isAnimationActive:o,animationBegin:c,animationDuration:d,animationEasing:u,onAnimationStart:m,onAnimationEnd:h}=a,p=(0,w.useMemo)(()=>({points:n,baseLine:l}),[n,l]),x=(0,Z.useAnimationId)(p,"recharts-area-"),g=(0,D.useCartesianChartLayout)(),[f,b]=(0,w.useState)(!1),y=(0,w.useCallback)(()=>{"function"==typeof h&&h(),b(!1)},[h]),v=(0,w.useCallback)(()=>{"function"==typeof m&&m(),b(!0)},[m]);if(null==g)return null;var j=i.current,N=s.current;return w.createElement(ej,{showLabels:!f,points:n},a.children,w.createElement(en.JavascriptAnimate,{animationId:x,begin:c,duration:d,isActive:o,easing:u,onAnimationEnd:y,onAnimationStart:v,key:x},e=>{if(j){var c,d=j.length/n.length,u=1===e?n:n.map((t,r)=>{var a=Math.floor(r*d);if(j[a]){var i=j[a];return ef(ef({},t),{},{x:(0,A.interpolate)(i.x,t.x,e),y:(0,A.interpolate)(i.y,t.y,e)})}return t});return c=(0,A.isNumber)(l)?(0,A.interpolate)(N,l,e):(0,A.isNullish)(l)||(0,A.isNan)(l)?(0,A.interpolate)(N,0,e):l.map((t,r)=>{var a=Math.floor(r*d);if(Array.isArray(N)&&N[a]){var i=N[a];return ef(ef({},t),{},{x:(0,A.interpolate)(i.x,t.x,e),y:(0,A.interpolate)(i.y,t.y,e)})}return t}),e>0&&(i.current=u,s.current=c),w.createElement(eN,{points:u,baseLine:c,needClip:t,clipPathId:r,props:a})}return e>0&&(i.current=n,s.current=l),w.createElement(k.Layer,null,o&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(r)},w.createElement(eE,{alpha:e,points:n,baseLine:l,layout:g,strokeWidth:a.strokeWidth}))),w.createElement(k.Layer,{clipPath:"url(#animationClipPath-".concat(r,")")},w.createElement(eN,{points:n,baseLine:l,needClip:t,clipPathId:r,props:a})))}),w.createElement(P.LabelListFromLabelProp,{label:a.label}))}function eP(e){var{needClip:t,clipPathId:r,props:a}=e,i=(0,w.useRef)(null),s=(0,w.useRef)();return w.createElement(ek,{needClip:t,clipPathId:r,props:a,previousPointsRef:i,previousBaselineRef:s})}class eS extends w.PureComponent{render(){var{hide:e,dot:t,points:r,className:a,top:i,left:s,needClip:n,xAxisId:l,yAxisId:o,width:c,height:d,id:u,baseLine:m,zIndex:h}=this.props;if(e)return null;var p=(0,C.clsx)("recharts-area",a),{r:x,strokeWidth:g}=(0,el.getRadiusAndStrokeWidthFromDot)(t),f=(0,I.isClipDot)(t),b=2*x+g,y=n?"url(#clipPath-".concat(f?"":"dots-").concat(u,")"):void 0;return w.createElement(ec.ZIndexLayer,{zIndex:h},w.createElement(k.Layer,{className:p},n&&w.createElement("defs",null,w.createElement(z.GraphicalItemClipPath,{clipPathId:u,xAxisId:l,yAxisId:o}),!f&&w.createElement("clipPath",{id:"clipPath-dots-".concat(u)},w.createElement("rect",{x:s-b/2,y:i-b/2,width:c+b,height:d+b}))),w.createElement(eP,{needClip:n,clipPathId:u,props:this.props})),w.createElement(L.ActivePoints,{points:r,mainColor:eb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:y}),this.props.isRange&&Array.isArray(m)&&w.createElement(L.ActivePoints,{points:m,mainColor:eb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:y}))}}var e_={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:ed.DefaultZIndexes.area};function eA(e){var t,r=(0,ee.resolveDefaultProps)(e,e_),{activeDot:a,animationBegin:i,animationDuration:s,animationEasing:n,connectNulls:l,dot:o,fill:c,fillOpacity:d,hide:u,isAnimationActive:m,legendType:h,stroke:p,xAxisId:x,yAxisId:g}=r,f=ex(r,eh),b=(0,D.useChartLayout)(),y=(0,J.useChartName)(),{needClip:v}=(0,z.useNeedsClip)(x,g),j=(0,X.useIsPanorama)(),{points:N,isRange:C,baseLine:E}=null!=(t=(0,Q.useAppSelector)(t=>K(t,x,g,j,e.id)))?t:{},k=(0,er.usePlotArea)();if("horizontal"!==b&&"vertical"!==b||null==k||"AreaChart"!==y&&"ComposedChart"!==y)return null;var{height:P,width:S,x:A,y:O}=k;return N&&N.length?w.createElement(eS,ep({},f,{activeDot:a,animationBegin:i,animationDuration:s,animationEasing:n,baseLine:E,connectNulls:l,dot:o,fill:c,fillOpacity:d,height:P,hide:u,layout:b,isAnimationActive:"auto"===m?!_.Global.isSsr:m,isRange:C,legendType:h,needClip:v,points:N,stroke:p,width:S,left:A,top:O,xAxisId:x,yAxisId:g})):null}var eO=w.memo(function(e){var t=(0,ee.resolveDefaultProps)(e,e_),r=(0,X.useIsPanorama)();return w.createElement(ea.RegisterGraphicalItemId,{id:t.id,type:"area"},e=>w.createElement(w.Fragment,null,w.createElement(Y.SetLegendPayload,{legendPayload:(e=>{var{dataKey:t,name:r,stroke:a,fill:i,legendType:s,hide:n}=e;return[{inactive:n,dataKey:t,type:s,color:eb(a,i),value:(0,O.getTooltipNameProp)(r,t),payload:e}]})(t)}),w.createElement(ey,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(ei.SetCartesianGraphicalItem,{type:"area",id:e,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:(0,O.getNormalizedStackId)(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),w.createElement(eA,ep({},t,{id:e}))))},eu.propsAreEqual);eO.displayName="Area";var eI=e.i(85183),eL=e.i(93230),eT=e.i(72526),ez=e.i(34239),eR=e.i(31195);function eM({tenant:e}){let c=(0,a.useRouter)(),{user:y,logout:v,loading:j}=(0,i.useAuth)(),[w,C]=(0,r.useState)(!0),[E,k]=(0,r.useState)("-"),[P,S]=(0,r.useState)([]),[_,A]=(0,r.useState)({total_ventas:0,transacciones:0,ticket_promedio:0});(0,r.useEffect)(()=>{j||(y?(async()=>{try{let e=(0,s.getApiClient)(),t=await e.getSucursalesList({page_size:1}),r=t.success||t.results&&Array.isArray(t.results);if(r&&(t.count??0)===0)return void c.push("/onboarding");r&&void 0!==t.count&&k(t.count.toString());try{let t=await e.getVentasChart({periodo:"diario"});Array.isArray(t)&&S(t.map(e=>({name:e.name,ventas:e.venta})))}catch(e){console.error("Error cargando grafica ventas",e)}try{let t=await e.getResumenGeneral();t&&A({total_ventas:t.total_ventas||0,transacciones:t.transacciones||0,ticket_promedio:t.ticket_promedio||0})}catch(e){console.error("Error cargando KPIs",e)}C(!1)}catch(e){console.error("Error general cargando dashboard:",e?.message||"Error desconocido"),C(!1)}})():C(!1))},[c,j,y]);let O=[{title:"Productos",icon:(0,t.jsx)(h.Box,{className:"w-5 h-5"}),description:"GestiÃ³n de catÃ¡logo",href:"/productos",color:"bg-blue-50 text-blue-600",items:[{name:"Nuevo Producto",href:"/productos/nuevo"},{name:"CategorÃ­as",href:"/categorias"}]},{title:"Ventas",icon:(0,t.jsx)(l.TrendingUp,{className:"w-5 h-5"}),description:"POS y Reportes",href:"/ventas",color:"bg-green-50 text-green-600",items:[{name:"Ir al POS",href:"/pos"},{name:"Historial",href:"/ventas"}]},{title:"Compras",icon:(0,t.jsx)(b.Truck,{className:"w-5 h-5"}),description:"Proveedores y Stock",href:"/compras",color:"bg-orange-50 text-orange-600",items:[{name:"Nueva Compra",href:"/compras/nueva"},{name:"Proveedores",href:"/proveedores"}]},{title:"FacturaciÃ³n SRI",icon:(0,t.jsx)(x.FileText,{className:"w-5 h-5"}),description:"EmisiÃ³n y Control",href:"/facturacion",color:"bg-indigo-50 text-indigo-600",items:[{name:"Dashboard SRI",href:"/facturacion"},{name:"Retenciones",href:"/facturacion/retenciones"}]},{title:"Inventario",icon:(0,t.jsx)(n.Package,{className:"w-5 h-5"}),description:"Ajustes y KÃ¡rdex",href:"/inventario",color:"bg-purple-50 text-purple-600",items:[{name:"Ver Stock",href:"/inventario"},{name:"AuditorÃ­a",href:"/inventario/auditoria"}]},{title:"ConfiguraciÃ³n",icon:(0,t.jsx)(g.Settings,{className:"w-5 h-5"}),description:"Sistema y Usuarios",href:"/configuracion",color:"bg-slate-50 text-slate-600",items:[{name:"Usuarios",href:"/usuarios"},{name:"Sucursales",href:"/sucursales"}]}],I=[{label:"Ventas Totales",value:_.total_ventas?`$${_.total_ventas.toFixed(2)}`:"$0.00",change:"",trend:"up",icon:(0,t.jsx)(d,{className:"w-6 h-6 text-emerald-600"}),bg:"bg-emerald-100"},{label:"Transacciones",value:_.transacciones.toString(),change:"",trend:"up",icon:(0,t.jsx)(f.ShoppingCart,{className:"w-6 h-6 text-blue-600"}),bg:"bg-blue-100"},{label:"Ticket Promedio",value:_.ticket_promedio?`$${_.ticket_promedio.toFixed(2)}`:"$0.00",change:"",trend:"neutral",icon:(0,t.jsx)(p.CreditCard,{className:"w-6 h-6 text-amber-600"}),bg:"bg-amber-100"},{label:"Sucursales",value:E,change:"",trend:"neutral",icon:(0,t.jsx)(o.Store,{className:"w-6 h-6 text-purple-600"}),bg:"bg-purple-100"}];return w?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Cargando dashboard..."})]})}):(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:I.map((e,r)=>(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:`p-3 rounded-lg ${e.bg}`,children:e.icon}),"up"===e.trend&&(0,t.jsxs)("span",{className:"flex items-center text-xs font-semibold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:[(0,t.jsx)(u,{className:"w-3 h-3 mr-1"}),e.change]}),"down"===e.trend&&(0,t.jsxs)("span",{className:"flex items-center text-xs font-semibold text-rose-600 bg-rose-50 px-2 py-1 rounded-full",children:[(0,t.jsx)(m,{className:"w-3 h-3 mr-1"}),e.change]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 font-medium",children:e.label}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.value})]})]},r))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Resumen de Ventas"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Comportamiento de los Ãºltimos 7 dÃ­as"})]}),(0,t.jsx)("button",{className:"text-sm text-indigo-600 font-medium hover:text-indigo-700",children:"Ver reporte completo"})]}),(0,t.jsx)("div",{className:"h-[300px] w-full",children:(0,t.jsx)(eR.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(N,{data:P,margin:{top:10,right:30,left:0,bottom:0},children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"colorVentas",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"5%",stopColor:"#4f46e5",stopOpacity:.2}),(0,t.jsx)("stop",{offset:"95%",stopColor:"#4f46e5",stopOpacity:0})]})}),(0,t.jsx)(eT.CartesianGrid,{strokeDasharray:"3 3",vertical:!1,stroke:"#f3f4f6"}),(0,t.jsx)(eI.XAxis,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#6b7280",fontSize:12},dy:10}),(0,t.jsx)(eL.YAxis,{axisLine:!1,tickLine:!1,tick:{fill:"#6b7280",fontSize:12}}),(0,t.jsx)(ez.Tooltip,{contentStyle:{backgroundColor:"#fff",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{stroke:"#6366f1",strokeWidth:2}}),(0,t.jsx)(eO,{type:"monotone",dataKey:"ventas",stroke:"#4f46e5",strokeWidth:3,fillOpacity:1,fill:"url(#colorVentas)"})]})})})]}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Accesos Directos"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:O.map((e,r)=>(0,t.jsxs)("div",{className:"border-b border-gray-50 last:border-0 pb-3 last:pb-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:`p-1.5 rounded-md ${e.color} bg-opacity-20`,children:e.icon}),(0,t.jsx)("h3",{className:"font-semibold text-gray-700 text-sm",children:e.title})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2 pl-2",children:e.items.map((e,r)=>(0,t.jsxs)("button",{onClick:()=>c.push(e.href),className:"text-left text-xs text-gray-500 hover:text-indigo-600 hover:bg-gray-50 px-2 py-1 rounded transition-colors flex items-center gap-1 group",children:[(0,t.jsx)("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-[10px]",children:"â–¶"}),e.name]},r))})]},r))})]})})]})]})}function eD({tenant:e}){var n;let l=(0,a.useRouter)(),{user:o,logout:c}=(0,i.useAuth)(),[d,u]=(0,r.useState)(null),[m,h]=(0,r.useState)(!0),[p,x]=(0,r.useState)([]),[g,f]=(0,r.useState)("NONE"),[b,y]=(0,r.useState)(""),[v,j]=(0,r.useState)(!1),[N,w]=(0,r.useState)(null),[C,E]=(0,r.useState)([]),[k,P]=(0,r.useState)(!1),S=(0,s.getApiClient)(),_=async()=>{h(!0);try{let e=await S.getTurnoActivo(),t=e.activo||e.tiene_turno_activo;if(e.success&&t){let t=e.data||e.turno;if(t){u({id:t.id,hora_inicio:t.inicio_turno||t.hora_inicio,sucursal:t.sucursal_nombre||t.sucursal});try{let e=await S.getAuditorias({page:1});if(e.results){let r=e.results.find(e=>"PENDIENTE"===e.estado&&e.turno===t.id);if(r){w(r.id);let e=await S.getAuditoria(r.id);if(e){let t=e.detalles.map(e=>({id:e.id,producto:e.producto,producto_nombre:e.producto_nombre,cantidad_sistema:e.cantidad_sistema,cantidad_fisica:e.cantidad_fisica}));E(t)}}}}catch(e){console.error("Error checking pending audits",e)}}}else u(null);let r=await S.getSucursalesList({page_size:100});r&&r.results&&(x(r.results),r.results.length>0&&y(r.results[0].id.toString()))}catch(e){console.error("Error cargando datos:",e)}finally{h(!1)}};(0,r.useEffect)(()=>{_()},[]);let A=async()=>{if(b){j(!0);try{if(await S.abrirTurno(parseInt(b))){let e=await S.createAuditoria({tipo:"INICIO_TURNO"});if(e){w(e.id);let t=e.detalles.map(e=>({id:e.id,producto:e.producto,producto_nombre:e.producto_nombre,cantidad_sistema:e.cantidad_sistema,cantidad_fisica:0}));E(t),f("AUDIT")}else await _(),f("NONE")}}catch(e){console.error("Error abriendo turno",e),alert("Error al abrir el turno. IntÃ©ntelo de nuevo.")}finally{j(!1)}}},O=async()=>{if(N){j(!0);try{await S.updateAuditoriaCount(N,C.map(e=>({id:e.id,cantidad_fisica:e.cantidad_fisica}))),await S.finalizeAuditoria(N),alert("Turno iniciado y auditorÃ­a registrada correctamente."),f("NONE"),await _()}catch(e){console.error("Error finalizando auditoria",e),alert("Error al guardar la auditorÃ­a")}finally{j(!1)}}},I=async()=>{if(confirm("Â¿EstÃ¡ seguro que desea cerrar su turno? Se realizarÃ¡ el cierre de caja.")){j(!0);try{await S.cerrarTurno({efectivo_total:0,tarjeta_total:0,transferencia_total:0,salidas_caja:0}),await _()}catch(e){console.error("Error cerrando turno",e),alert("Error al cerrar el turno.")}finally{j(!1)}}};return(0,t.jsxs)("div",{className:"space-y-8",children:[N&&"NONE"===g&&(0,t.jsxs)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4 flex justify-between items-center shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("span",{className:"text-2xl",children:"âš ï¸"})}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-700",children:[(0,t.jsx)("span",{className:"font-bold",children:"AuditorÃ­a en curso."})," ","Si realizas ventas, recuerda considerar los productos vendidos en tu conteo."]})})]}),(0,t.jsx)("button",{onClick:()=>{f("AUDIT")},className:"px-4 py-2 bg-yellow-100 text-yellow-700 font-bold rounded hover:bg-yellow-200 text-sm transition-colors",children:"Retomar Conteo"})]}),"NONE"!==g&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:`bg-white rounded-xl shadow-xl w-full p-6 max-h-[90vh] overflow-y-auto ${"AUDIT"===g?"max-w-4xl":"max-w-md"}`,children:["SELECT_BRANCH"===g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Apertura de Caja"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Seleccione el punto de venta donde iniciarÃ¡ su turno."}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sucursal"}),(0,t.jsx)("select",{className:"w-full border rounded-lg p-3 text-gray-700 focus:ring-2 focus:ring-green-500 outline-none",value:b,onChange:e=>y(e.target.value),children:p.map(e=>(0,t.jsx)("option",{value:e.id,children:e.nombre},e.id))})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>f("NONE"),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:" Cancelar "}),(0,t.jsx)("button",{onClick:A,disabled:v||!b,className:"px-6 py-2 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 disabled:opacity-50",children:v?"Iniciando...":"Continuar"})]})]}),"AUDIT"===g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"AuditorÃ­a de Inicio de Turno"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Por favor valide el inventario fÃ­sico antes de comenzar a vender."}),(0,t.jsx)("div",{className:"overflow-x-auto border rounded-lg mb-6 max-h-[60vh]",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Producto"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Conteo FÃ­sico"})]})}),(0,t.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[C.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:e.producto_nombre}),(0,t.jsx)("td",{className:"px-4 py-2 text-right",children:(0,t.jsx)("input",{type:"number",min:"0",step:"0.01",className:"w-24 p-1 border rounded text-right focus:ring-2 focus:ring-blue-500 outline-none",value:e.cantidad_fisica,onChange:t=>{var r;let a;return r=e.id,a=parseFloat(t.target.value)||0,void E(e=>e.map(e=>e.id===r?{...e,cantidad_fisica:a}:e))}})})]},e.id)),0===C.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:2,className:"p-4 text-center text-gray-500",children:"No hay productos asignados para auditorÃ­a."})})]})]})}),(0,t.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t",children:[(0,t.jsxs)("button",{onClick:()=>{f("NONE")},className:"px-4 py-2 text-gray-500 hover:text-gray-700 font-medium text-sm flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ”½"})," Minimizar y Vender"]}),(0,t.jsx)("button",{onClick:O,disabled:v,className:"px-6 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 disabled:opacity-50 shadow-md",children:v?"Guardando...":"Finalizar AuditorÃ­a"})]})]})]})}),(0,t.jsx)("div",{className:"mb-8",children:m?(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 border animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]}):d?(0,t.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-lg shadow-sm p-6 border border-green-200",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-green-900 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),"Turno Activo"]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("p",{className:"text-sm text-green-700",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Hora de inicio:"})," ",(n=d.hora_inicio)?new Date(n).toLocaleTimeString("es-EC",{hour:"2-digit",minute:"2-digit"}):""]}),d.sucursal&&(0,t.jsxs)("p",{className:"text-sm text-green-700",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Sucursal:"})," ",d.sucursal]})]})]}),(0,t.jsx)("button",{onClick:I,disabled:v,className:"px-6 py-3 bg-white border border-red-200 text-red-600 hover:bg-red-50 font-semibold rounded-lg transition-colors shadow-sm",children:v?"Cerrando...":"Finalizar Turno"})]})}):(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-8 border border-gray-200 text-center",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-yellow-100 rounded-full mb-4",children:(0,t.jsx)("span",{className:"text-3xl",children:"ðŸ‘‹"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Â¡Hola, ",o?.first_name,"!"]}),(0,t.jsx)("p",{className:"text-gray-500 max-w-md mx-auto mb-8",children:"Para comenzar a procesar ventas necesitas abrir tu caja. Selecciona tu sucursal y realiza la auditorÃ­a inicial."}),(0,t.jsx)("button",{onClick:()=>{f("SELECT_BRANCH")},className:"px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white font-bold text-lg rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1",children:"Abrir Caja e Iniciar Turno"})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{title:"Ventas",icon:"ðŸ›’",items:[{name:"Punto de Venta (POS)",href:"/pos",icon:"ðŸ’°",requiresTurno:!0},{name:"Consultar Productos",href:"/productos",icon:"ðŸ“¦",requiresTurno:!1},{name:"Mi Historial de Ventas",href:"/mis-ventas",icon:"ðŸ“Š",requiresTurno:!1}]},{title:"Mi Turno",icon:"ðŸ•’",items:[{name:"Ver Detalles del Turno",href:"#",icon:"ðŸ“‹",requiresTurno:!0,action:"verTurno"},{name:"Finalizar Turno",href:"#",icon:"ðŸ”š",requiresTurno:!0,action:"finalizarTurno"}]}].map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-gray-50 px-4 py-3 border-b",children:(0,t.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)("span",{className:"mr-2",children:e.icon}),e.title]})}),(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)("ul",{className:"space-y-1",children:e.items.map(e=>(0,t.jsx)("li",{children:(0,t.jsxs)("button",{onClick:()=>{e.requiresTurno&&!d?alert("Necesitas iniciar un turno primero"):"finalizarTurno"===e.action?I():"verTurno"!==e.action&&l.push(e.href)},disabled:e.requiresTurno&&!d,className:`w-full text-left px-4 py-3 rounded-lg transition-colors flex items-center justify-between group ${e.requiresTurno&&!d?"opacity-50 cursor-not-allowed":"hover:bg-blue-50 cursor-pointer"}`,children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{className:`text-xl p-2 rounded-lg ${e.requiresTurno&&!d?"bg-gray-100":"bg-white shadow-sm group-hover:bg-blue-100 text-blue-600"}`,children:e.icon}),(0,t.jsx)("span",{className:`${e.requiresTurno&&!d?"text-gray-400":"text-gray-700 font-medium group-hover:text-blue-700"}`,children:e.name})]}),(!e.requiresTurno||d)&&(0,t.jsx)("span",{className:"text-gray-300 group-hover:text-blue-400",children:"â†’"})]})},e.name))})})]},e.title))}),d&&(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsxs)("button",{onClick:()=>l.push("/pos"),className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white py-6 rounded-xl shadow-lg transition-all transform hover:scale-[1.01] flex items-center justify-center gap-4 group",children:[(0,t.jsx)("div",{className:"bg-white/20 p-2 rounded-lg group-hover:scale-110 transition-transform",children:(0,t.jsx)("span",{className:"text-3xl",children:"ðŸ’°"})}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("span",{className:"block text-sm opacity-90 uppercase tracking-wider font-semibold",children:"Acceso Directo"}),(0,t.jsx)("span",{className:"text-2xl font-bold",children:"Ir al Punto de Venta"})]})]})})]})}var eB=e.i(83639),e$=e.i(45274);function eW(){let{user:e,loading:s,isAdmin:n,isVendedor:l}=(0,i.useAuth)(),o=(0,a.useRouter)(),c=(0,e$.getTenant)();return((0,r.useEffect)(()=>{s||e||o.replace("/login")},[e,s,o]),s)?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Verificando sesiÃ³n..."})]})}):e?n?(0,t.jsx)(eB.default,{children:(0,t.jsx)(eM,{tenant:c})}):l?(0,t.jsx)(eB.default,{children:(0,t.jsx)(eD,{tenant:c})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Acceso no autorizado"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Tu usuario no tiene un rol asignado."}),(0,t.jsx)("button",{onClick:()=>o.push("/login"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Volver al inicio"})]})}):null}e.s(["default",()=>eW],59707)}]);