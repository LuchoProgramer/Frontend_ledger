(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15788,e=>{"use strict";let t=(0,e.i(75254).default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>t],15788)},18566,(e,t,a)=>{t.exports=e.r(76562)},75254,e=>{"use strict";var t=e.i(71645);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:d="",children:c,iconNode:n,...o},m)=>(0,t.createElement)("svg",{ref:m,...s,width:a,height:a,stroke:e,strokeWidth:l?24*Number(i)/Number(a):i,className:r("lucide",d),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(o)&&{"aria-hidden":"true"},...o},[...n.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(c)?c:[c]])),l=(e,s)=>{let l=(0,t.forwardRef)(({className:l,...d},c)=>(0,t.createElement)(i,{ref:c,iconNode:s,className:r(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...d}));return l.displayName=a(e),l};e.s(["default",()=>l],75254)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},36828,e=>{"use strict";var t=e.i(18050),a=e.i(71645),r=e.i(83639),s=e.i(9165);function i(){let[e,i]=(0,a.useState)(null),[l,d]=(0,a.useState)(!0),[c,n]=(0,a.useState)(!1),[o,m]=(0,a.useState)(null),[u,x]=(0,a.useState)(""),[h,p]=(0,a.useState)(""),[f,g]=(0,a.useState)("");(0,a.useEffect)(()=>{y()},[]);let y=async()=>{try{let e=(0,s.getApiClient)(),t=await e.getConfiguracion();t.success&&i(t.data)}catch(e){console.error(e)}finally{d(!1)}},j=async e=>{e.preventDefault(),n(!0),p(""),g("");try{let e=new FormData;o&&e.append("certificado",o),u&&e.append("password",u);let t=(0,s.getApiClient)(),a=await t.subirCertificado(e);a.success?(p("Certificado actualizado correctamente"),m(null),x(""),y()):g(a.error||"Error al subir certificado")}catch(e){g(e.message||"Error de conexión")}finally{n(!1)}};return(0,t.jsx)(r.default,{children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Certificado Digital (Firma Electrónica)"}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 mb-8",children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Estado Actual"}),l?(0,t.jsx)("p",{children:"Cargando..."}):(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Razón Social"}),(0,t.jsx)("p",{className:"font-medium",children:e?.razon_social||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"RUC"}),(0,t.jsx)("p",{className:"font-medium",children:e?.ruc||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Vigencia Certificado"}),(0,t.jsx)("p",{className:`font-medium ${e?.certificado_valido_hasta?"text-green-600":"text-red-500"}`,children:e?.certificado_valido_hasta||"No configurado"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Ambiente SRI"}),(0,t.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${e?.ambiente==="2"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e?.ambiente==="2"?"PRODUCCIÓN":"PRUEBAS"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Actualizar Certificado"}),(0,t.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Archivo .p12"}),(0,t.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:bg-gray-50 transition-colors cursor-pointer relative",children:(0,t.jsxs)("div",{className:"space-y-1 text-center",children:[(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,t.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,t.jsxs)("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[(0,t.jsx)("span",{children:"Subir un archivo"}),(0,t.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:".p12",onChange:e=>m(e.target.files?.[0]||null)})]}),(0,t.jsx)("p",{className:"pl-1",children:"o arrastrar y soltar"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:o?`Seleccionado: ${o.name}`:"Solo archivos .p12 hasta 10MB"})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Contraseña del Certificado"}),(0,t.jsx)("input",{type:"password",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:u,onChange:e=>x(e.target.value),placeholder:"Ingrese la contraseña del archivo .p12"})]}),h&&(0,t.jsx)("div",{className:"text-green-600 text-sm",children:h}),f&&(0,t.jsx)("div",{className:"text-red-600 text-sm",children:f}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{type:"submit",disabled:c,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none disabled:opacity-50",children:c?"Subiendo...":"Actualizar Certificado"})})]})]})]})})}e.s(["default",()=>i])}]);