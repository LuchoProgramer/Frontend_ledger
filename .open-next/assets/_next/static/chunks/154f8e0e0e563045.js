(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15788,e=>{"use strict";let t=(0,e.i(75254).default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>t],15788)},18566,(e,t,s)=>{t.exports=e.r(76562)},75254,e=>{"use strict";var t=e.i(71645);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=(0,t.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:n="",children:d,iconNode:o,...c},m)=>(0,t.createElement)("svg",{ref:m,...i,width:s,height:s,stroke:e,strokeWidth:l?24*Number(r)/Number(s):r,className:a("lucide",n),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...o.map(([e,s])=>(0,t.createElement)(e,s)),...Array.isArray(d)?d:[d]])),l=(e,i)=>{let l=(0,t.forwardRef)(({className:l,...n},d)=>(0,t.createElement)(r,{ref:d,iconNode:i,className:a(`lucide-${s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...n}));return l.displayName=s(e),l};e.s(["default",()=>l],75254)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},36786,e=>{"use strict";var t=e.i(18050),s=e.i(71645),a=e.i(74080);function i({children:e,isOpen:i,onClose:r}){let[l,n]=(0,s.useState)(!1);return((0,s.useEffect)(()=>(n(!0),()=>n(!1)),[]),(0,s.useEffect)(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[i]),l&&i)?(0,a.createPortal)((0,t.jsx)("div",{className:"fixed inset-0 z-[99999] overflow-y-auto",role:"dialog","aria-modal":"true",children:(0,t.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[(0,t.jsx)("div",{className:"fixed inset-0 transition-opacity bg-gray-900/50 backdrop-blur-sm","aria-hidden":"true",onClick:r}),(0,t.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"â€‹"}),(0,t.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full relative z-[10000]",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 pt-4 pr-4 block",children:(0,t.jsxs)("button",{type:"button",className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:r,children:[(0,t.jsx)("span",{className:"sr-only",children:"Cerrar"}),(0,t.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})}),e]})]})}),document.body):null}e.s(["default",()=>i])},86821,e=>{"use strict";var t=e.i(18050),s=e.i(71645),a=e.i(83639),i=e.i(9165),r=e.i(36786),l=e.i(20394);function n(){let[e,n]=(0,s.useState)([]),[d,o]=(0,s.useState)(!0),[c,m]=(0,s.useState)(!1),[x,u]=(0,s.useState)(null),[h,p]=(0,s.useState)({nombre:"",direccion:"",telefono:"",codigo_establecimiento:"",punto_emision:"",es_matriz:!1,latitud:void 0,longitud:void 0,mostrar_en_mapa:!1}),[g,b]=(0,s.useState)(!1),[y,f]=(0,s.useState)(""),j=async()=>{try{o(!0);let e=(0,i.getApiClient)(),t=await e.getSucursalesList(),s=t.results||t.data||[];n(s)}catch(e){console.error(e)}finally{o(!1)}};(0,s.useEffect)(()=>{j()},[]);let N=async e=>{e.preventDefault(),b(!0),f("");try{let e=(0,i.getApiClient)();x?await e.actualizarSucursal(x,h):await e.crearSucursal(h),m(!1),j()}catch(e){f(e.message||"Error al guardar")}finally{b(!1)}},v=e=>{u(e.id),p({nombre:e.nombre,direccion:e.direccion,telefono:e.telefono,codigo_establecimiento:e.codigo_establecimiento,punto_emision:e.punto_emision,es_matriz:e.es_matriz,latitud:e.latitud||void 0,longitud:e.longitud||void 0,mostrar_en_mapa:e.mostrar_en_mapa||!1}),m(!0)},w=async e=>{if(confirm("Â¿Eliminar esta sucursal?"))try{await (0,i.getApiClient)().eliminarSucursal(e),j()}catch(e){alert(e.message||"Error al eliminar")}};return(0,t.jsx)(a.default,{children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Sucursales"}),(0,t.jsx)("button",{onClick:()=>{u(null),p({nombre:"",direccion:"",telefono:"",codigo_establecimiento:"",punto_emision:"",es_matriz:!1,latitud:void 0,longitud:void 0,mostrar_en_mapa:!1}),m(!0)},className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"+ Nueva Sucursal"})]}),(0,t.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg hidden md:block",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nombre"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"CÃ³digo"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"DirecciÃ³n"}),(0,t.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"UbicaciÃ³n"}),(0,t.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Matriz"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.nombre}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.telefono})]}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.codigo_establecimiento,"-",e.punto_emision]}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.direccion}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:e.latitud&&e.longitud?(0,t.jsx)("span",{title:`${e.latitud}, ${e.longitud}`,className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded",children:"ðŸ“ Configurada"}):(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"-"})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.es_matriz?(0,t.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"SÃ­"}):(0,t.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"No"})}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,t.jsx)("button",{onClick:()=>v(e),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:"Editar"}),(0,t.jsx)("button",{onClick:()=>w(e.id),className:"text-red-600 hover:text-red-900",children:"Eliminar"})]})]},e.id))})]})}),(0,t.jsx)("div",{className:"block md:hidden space-y-4",children:e.map(e=>(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-4 space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.nombre}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[e.codigo_establecimiento,"-",e.punto_emision]})]}),e.es_matriz&&(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Matriz"})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-700 space-y-1",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"DirecciÃ³n:"})," ",e.direccion]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"TelÃ©fono:"})," ",e.telefono]}),e.latitud&&(0,t.jsx)("p",{className:"text-xs text-blue-600",children:"ðŸ“ UbicaciÃ³n configurada"})]}),(0,t.jsxs)("div",{className:"pt-3 border-t border-gray-100 flex justify-end space-x-3",children:[(0,t.jsx)("button",{onClick:()=>v(e),className:"px-3 py-1.5 bg-indigo-50 text-indigo-700 rounded-md text-sm font-medium hover:bg-indigo-100 transition-colors",children:"Editar"}),(0,t.jsx)("button",{onClick:()=>w(e.id),className:"px-3 py-1.5 bg-red-50 text-red-700 rounded-md text-sm font-medium hover:bg-red-100 transition-colors",children:"Eliminar"})]})]},e.id))}),(0,t.jsx)(r.default,{isOpen:c,onClose:()=>m(!1),children:(0,t.jsx)("div",{className:"max-h-[90vh] overflow-y-auto",children:(0,t.jsxs)("form",{onSubmit:N,children:[(0,t.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:[x?"Editar":"Nueva"," Sucursal"]}),y&&(0,t.jsx)("div",{className:"mb-4 text-red-600 text-sm",children:y}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre"}),(0,t.jsx)("input",{type:"text",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:h.nombre,onChange:e=>p({...h,nombre:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Cod. Estab."}),(0,t.jsx)("input",{type:"text",required:!0,maxLength:3,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:h.codigo_establecimiento,onChange:e=>p({...h,codigo_establecimiento:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Pto. EmisiÃ³n"}),(0,t.jsx)("input",{type:"text",required:!0,maxLength:3,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:h.punto_emision,onChange:e=>p({...h,punto_emision:e.target.value})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"DirecciÃ³n"}),(0,t.jsx)("input",{type:"text",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:h.direccion,onChange:e=>p({...h,direccion:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"TelÃ©fono"}),(0,t.jsx)("input",{type:"text",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:h.telefono,onChange:e=>p({...h,telefono:e.target.value})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",id:"es_matriz",className:"h-4 w-4 text-indigo-600 border-gray-300 rounded",checked:h.es_matriz,onChange:e=>p({...h,es_matriz:e.target.checked})}),(0,t.jsx)("label",{htmlFor:"es_matriz",className:"ml-2 block text-sm text-gray-900",children:"Es Matriz"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",id:"mostrar_en_mapa",className:"h-4 w-4 text-indigo-600 border-gray-300 rounded",checked:h.mostrar_en_mapa,onChange:e=>p({...h,mostrar_en_mapa:e.target.checked})}),(0,t.jsx)("label",{htmlFor:"mostrar_en_mapa",className:"ml-2 block text-sm text-gray-900",children:"Mostrar en Mapa PÃºblico"})]})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"UbicaciÃ³n GeogrÃ¡fica"}),(0,t.jsx)(l.default,{apiKey:"AIzaSyBphXV4dmmrn0Ps0VBQTXHth7kLYmd4mMw",initialLat:h.latitud,initialLng:h.longitud,onLocationChange:(e,t)=>{p(s=>({...s,latitud:e,longitud:t}))}})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,t.jsx)("button",{type:"submit",disabled:g,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 sm:ml-3 sm:w-auto sm:text-sm",children:g?"Guardando...":"Guardar"}),(0,t.jsx)("button",{type:"button",onClick:()=>m(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancelar"})]})]})})})]})})}e.s(["default",()=>n])}]);